:javascript
  window.onload = function() {
    var ctx = $("#heartChart")[0].getContext("2d");
    console.log(config_heartsig)
    
    window.myLine = new Chart(ctx, config_heartsig);
    updateChart($("#h_sig").text());
    
    var ctx2 = $("#spo2Chart")[0].getContext("2d");
    config_spo2.data.datasets[0].data = test()
    config_spo2.data.labels = test2()
    console.log(config_spo2.labels)
    console.log(config_spo2.data)
    console.log(config_spo2)
    window.myLine2 = new Chart(ctx2, config_spo2);
    
    console.log("end window load")
  }
  setInterval(function() { updateData() }, 5000);

.header
  %h2 #{@user.name}'s Health Data
.panel
  .panel-heading Health Status
  .panel-body 
    .h_status
      .h_spo2
        .panel_content
          .left_side_panel
            %labe SpO2
          .right_side_panel
            .big#spo2  
              - if @user.health.length != 0
                #{@user.health.order("created_at").last.spo2} 
              - else
                0 
            #h_status  %
    .h_status
      .h_h_rate
        .panel_content
          .left_side_panel
            %labe Heart Pulse 
          .right_side_panel
            .big#h_rate
              - if @user.health.length != 0
                #{@user.health.order("created_at").last.h_rate} 
              - else
                0 
            #h_status  bpm
  .panel
    .panel-heading Heart Signal
    .panel-body 
      .chart
        %canvas#heartChart{:style => "width: 100%; height: 300px;"}
      #h_sig 
        - if @user.health.length != 0
          #{@user.health.order("created_at").last.h_signal} 

.panel
  .panel-heading History update
  .panel-body
    #spo2_data
      - @user.health.order("updated_at DESC").each do |data|
        #{data.spo2},
    #date_data
      - @user.health.order("updated_at DESC").each do |data|
        #{data.updated_at},
    .chart
      %canvas#spo2Chart{:style => "width: 100%; height: 300px;"}
    .table
      %table#users
        %thead
          %tr
            %th= "Spo2"
            %th= "Hearth rate"
            %th= "Update"
        %tbody#addtd
          - @user.health.order("updated_at DESC").each do |data|
            %tr
              %td= data.spo2
              %td= data.h_rate
              %td= data.updated_at 