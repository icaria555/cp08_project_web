:javascript
  window.onload = function() {
    var ctx = document.getElementById("myChart").getContext("2d");
    window.myLine = new Chart(ctx, config);
    
  }
  // generates first set of dataPoints
  // updateChart(dataLength);
  // // update chart after specified time. 
  setInterval(function() { updateChart() }, 5000);

.header
  %h2 #{@user.name}'s Health Data
.panel
  .panel-heading Health Status
  .panel-body 
    .h_status
      .h_spo2
        .panel_content
          .left_side_panel
            %labe SpO2
          .right_side_panel
            .big#heart  
              - if @user.health.length != 0
                #{@user.health.order("created_at").last.spo2} 
              - else
                0 
            #h_status  %
        
    .h_status
      .h_h_rate
        .panel_content
          .left_side_panel
            %labe Heart Pulse 
          .right_side_panel
            .big#heart
              - if @user.health.length != 0
                #{@user.health.order("created_at").last.h_rate} 
              - else
                0 
            #h_status  bpm
  .panel
    .panel-heading Heart Signal
    .panel-body 
      .chart
        %canvas#myChart{:style => "width: 100%; height: 300px;"}
      %button#randomizeData Randomize Data
      #h_sig 
        - if @user.health.length != 0
          #{@user.health.order("created_at").last.h_signal} 

.panel
  .panel-heading History update
  .panel-body 
    .table
      %table#users
        %thead
          %tr
            %th= "Spo2"
            %th= "Hearth rate"
            %th= "Update"
        %tbody
          - @user.health.order("created_at DESC").each do |data|
            %tr
              %td= data.spo2
              %td= data.h_rate
              %td= data.created_at 
